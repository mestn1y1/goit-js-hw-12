{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n\nexport function renderImgCard(images) {\n  const galleryList = document.querySelector('.gallery');\n  galleryList.innerHTML = '';\n  const markup = images\n    .map(\n      ({ largeImageURL, webformatURL, likes, views, comments, downloads }) =>\n        `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"\" class=\"card-img\"/>\n        </a>\n        <ul class=\"galery-item-description\">\n          <li>\n            <p class=\"count-text\">Likes</p>\n            <p class=\"count\">${likes}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Views</p>\n            <p class=\"count\">${views}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Comments</p>\n            <p class=\"count\">${comments}</p>\n          </li>\n          <li>\n            <p class=\"count-text\">Downloads</p>\n            <p class=\"count\">${downloads}</p>\n          </li>\n        </ul>\n      </li>\n      `\n    )\n    .join('');\n\n  galleryList.insertAdjacentHTML('afterbegin', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n","export function getPicturesByQuery(query) {\n  const API_KEY = '44784729-ebc9a0f5cc587c2700d41657d';\n  const imageType = 'photo';\n  const orientation = 'horizontal';\n  const safeSearch = true;\n\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n\n    return res.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport { renderImgCard } from './js/render-function.js';\nimport { getPicturesByQuery } from './js/pixabay-api.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(evt) {\n  evt.preventDefault();\n\n  const form = evt.currentTarget;\n  const queryValue = form.elements.query.value.trim().toLowerCase();\n\n  if (!queryValue) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n      position: 'topRight',\n      timeout: 2000,\n    });\n    return;\n  }\n\n  showLoader();\n\n  getPicturesByQuery(queryValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          title: 'Warning',\n          message: 'Nothing found for your request.',\n          position: 'topRight',\n          timeout: 2000,\n        });\n      } else {\n        renderImgCard(data.hits);\n      }\n    })\n    .catch(onFetchError)\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n}\n\nfunction onFetchError(err) {\n  console.error('Fetch Error:', err);\n  hideLoader();\n}\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n"],"names":["renderImgCard","images","galleryList","markup","largeImageURL","webformatURL","likes","views","comments","downloads","SimpleLightbox","getPicturesByQuery","query","url","res","searchForm","loader","handlerSearch","evt","form","queryValue","iziToast","showLoader","data","onFetchError","hideLoader","err"],"mappings":"6vBAEO,SAASA,EAAcC,EAAQ,CACpC,MAAMC,EAAc,SAAS,cAAc,UAAU,EACrDA,EAAY,UAAY,GACxB,MAAMC,EAASF,EACZ,IACC,CAAC,CAAE,cAAAG,EAAe,aAAAC,EAAc,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACjE;AAAA;AAAA,mBAEWL,CAAa;AAAA,sBACVC,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA,+BAKHC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,+BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAKnC,EACA,KAAK,EAAE,EAEVP,EAAY,mBAAmB,aAAcC,CAAM,EAElC,IAAIO,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CC1CO,SAASC,EAAmBC,EAAO,CAMxC,MAAMC,EAAM,qEAA6CD,CAAK,uDAAkE,EAAU,GAE1I,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAG5B,OAAOA,EAAI,MACf,CAAG,CACH,CCXA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAW,iBAAiB,SAAUE,CAAa,EAEnD,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAElB,MAAMC,EAAOD,EAAI,cACXE,EAAaD,EAAK,SAAS,MAAM,MAAM,KAAI,EAAG,cAEpD,GAAI,CAACC,EAAY,CACfC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,WACV,QAAS,GACf,CAAK,EACD,MACD,CAEDC,IAEAX,EAAmBS,CAAU,EAC1B,KAAKG,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBF,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kCACT,SAAU,WACV,QAAS,GACnB,CAAS,EAEDrB,EAAcuB,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMC,CAAY,EAClB,QAAQ,IAAM,CACbC,IACAN,EAAK,MAAK,CAChB,CAAK,CACL,CAEA,SAASK,EAAaE,EAAK,CACzB,QAAQ,MAAM,eAAgBA,CAAG,EACjCD,GACF,CAEA,SAASH,GAAa,CACpBN,EAAO,MAAM,QAAU,OACzB,CAEA,SAASS,GAAa,CACpBT,EAAO,MAAM,QAAU,MACzB"}